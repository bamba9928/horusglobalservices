<!doctype html>
{% load static %}
<html lang="fr" class="scroll-smooth">
<head>
  <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    {# SEO Global & Métadonnées — Horus Global Services #}
    <title>{% block title %}Horus Global Services | Ingénierie Logicielle & Transformation Digitale au Sénégal{% endblock %}</title>
    <meta name="description" content="{% block description %}Cabinet d'ingénierie logicielle spécialisé dans la conception d'applications web et mobiles. Nous développons des solutions cloud sur mesure, des architectures haute performance et des systèmes sécurisés pour propulser votre croissance.{% endblock %}">
    <meta name="author" content="Horus Global Services">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="{% block canonical %}{{ request.build_absolute_uri }}{% endblock %}">

    {# Theme color & Optimisation Mobile (PWA) #}
    <meta name="theme-color" content="#08080a">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="application-name" content="Horus Global Services">

    {# Favicons #}
    <link rel="icon" href="{% static 'favicon.ico' %}" sizes="any">
    <link rel="icon" type="image/png" sizes="16x16" href="{% static 'favicon-16x16.png' %}">
    <link rel="icon" type="image/png" sizes="32x32" href="{% static 'favicon-32x32.png' %}">
    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'apple-touch-icon.png' %}">
    <link rel="icon" type="image/png" sizes="192x192" href="{% static 'android-chrome-192x192.png' %}">
    <link rel="icon" type="image/png" sizes="512x512" href="{% static 'android-chrome-512x512.png' %}">

    {# Open Graph / Facebook / LinkedIn #}
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ request.build_absolute_uri }}">
    <meta property="og:site_name" content="Horus Global Services">
    <meta property="og:locale" content="fr_FR">
    <meta property="og:title" content="{% block og_title %}Horus Global Services — Solutions Digitales et Ingénierie Haut de Gamme{% endblock %}">
    <meta property="og:description" content="{% block og_description %}Notre expertise en ingénierie logicielle est dédiée à l'accélération de votre croissance. Nous concevons et déployons des solutions sur mesure, garantissant des applications web hautement performantes, évolutives et d'une sécurité infaillible pour répondre aux exigences les plus strictes de votre entreprise.{% endblock %}">
    {# Image : Format recommandé 1200x630px #}
    <meta property="og:image" content="{% block og_image %}{{ request.scheme }}://{{ request.get_host }}{% static 'core/og-image.png' %}{% endblock %}">
    <meta property="og:image:secure_url" content="{% block og_image_secure %}{{ request.scheme }}://{{ request.get_host }}{% static 'core/og-image.jpg' %}{% endblock %}">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="Présentation des services d'ingénierie logicielle de Horus Global Services">

    {# Twitter #}
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@HorusGlobal">
    <meta name="twitter:title" content="{% block twitter_title %}Horus Global Services | Ingénierie Logicielle & Innovation{% endblock %}">
    <meta name="twitter:description" content="{% block twitter_description %}Transformez votre vision numérique en réalité. Nous créons des applications sur mesure, robustes et évolutives pour pérenniser votre succès.{% endblock %}">
    <meta name="twitter:image" content="{% block twitter_image %}{{ request.scheme }}://{{ request.get_host }}{% static 'core/og-image.jpg' %}{% endblock %}">
    <meta name="twitter:image:alt" content="Horus Global Services - Solutions Web">

  {# Fonts — preload pour perf #}
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet">

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "ProfessionalService",
      "name": "Horus Global Service",
      "description": "Cabinet d'ingénierie logicielle spécialisé dans la conception d'applications web et mobiles. Nous développons des solutions cloud sur mesure et des architectures haute performance.",
      "image": "{{ request.scheme }}://{{ request.get_host }}{% static 'core/og-image.jpg' %}",
      "@id": "{{ request.scheme }}://{{ request.get_host }}/#organization",
      "url": "{{ request.scheme }}://{{ request.get_host }}/",
      "telephone": "+221 77 340 96 58",
      "priceRange": "$$$",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "Touba Darou Khoudoss",
        "addressLocality": "Touba",
        "addressRegion": "Diourbel",
        "postalCode": "22300",
        "addressCountry": "SN"
      },
      "geo": {
        "@type": "GeoCoordinates",
        "latitude": "14.8667",
        "longitude": "-15.8833"
      },
      "openingHoursSpecification": {
        "@type": "OpeningHoursSpecification",
        "dayOfWeek": ["Monday","Tuesday","Wednesday","Thursday","Friday"],
        "opens": "09:00",
        "closes": "18:00"
      },
      "sameAs": [
        "https://www.linkedin.com/in/horusglobalservices/",
        "https://x.com/horuservices",
        "https://github.com/bamba9928"
      ]
    }
    </script>

  {# ------------------------------------------------------------------ #}
  {# BUG CORRIGÉ #5 : utilisation de TEMPLATE_DEBUG (context processor) #}
  {# au lieu de la variable `debug` non fiable en template Django        #}
  {# ------------------------------------------------------------------ #}
  {% if TEMPLATE_DEBUG %}
    <script>
      window.tailwind = {
        config: {
          theme: {
            extend: {
              colors: {
                dark:   '#08080a',
                card:   '#111114',
                border: '#1e1e23',
                muted:  '#9ca3af',
                accent: '#e8e0d0',
              },
              fontFamily: {
                display: ['Syne', 'sans-serif'],
                body:    ['DM Sans', 'sans-serif'],
              },
              keyframes: {
                'slide-in': {
                  '0%':   { opacity: '0', transform: 'translateX(1rem)' },
                  '100%': { opacity: '1', transform: 'translateX(0)' },
                },
                'fade-out': {
                  '0%':   { opacity: '1', transform: 'translateX(0)' },
                  '100%': { opacity: '0', transform: 'translateX(1rem)' },
                },
                'fade-down': {
                  '0%':   { opacity: '0', transform: 'translateY(-8px)' },
                  '100%': { opacity: '1', transform: 'translateY(0)' },
                },
                'infinite-scroll': {
                  '0%':   { transform: 'translateX(0)' },
                  '100%': { transform: 'translateX(-50%)' },
                },
              },
              animation: {
                'slide-in':        'slide-in 0.3s ease-out forwards',
                'fade-out':        'fade-out 0.4s ease-in forwards',
                'fade-down':       'fade-down 0.4s ease-out forwards',
                'infinite-scroll': 'infinite-scroll 40s linear infinite',
              },
            }
          },
          plugins: [
            function({ addUtilities }) {
              addUtilities(
                { '.pause': { 'animation-play-state': 'paused' } },
                ['hover']
              )
            }
          ]
        }
      };
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
  {% else %}
    <link rel="stylesheet" href="{% static 'css/output.css' %}">
  {% endif %}

  <style>
    /* ================================================================
       ROOT — Variables CSS
    ================================================================ */
    :root {
      --header-h:   70px;
      --marquee-h:  54px;
      --gap:        25px;
      --safe-top:   env(safe-area-inset-top, 0px);
      --header-top: calc(var(--marquee-h) + var(--gap) + var(--safe-top));
      --bg:         #08080a;
      --fg:         #f0ece4;
      --muted:      rgba(240,236,228,.70);
      --accent:     #e8e0d0;
      --dark:       #08080a;
    }

    /* ================================================================
       BASE
    ================================================================ */
    * { box-sizing: border-box; }

    html { background: var(--bg); }

    body {
      font-family: 'DM Sans', sans-serif;
      background-color: var(--bg);
      color: var(--fg);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      text-rendering: optimizeLegibility;
      overflow-x: clip;
    }
    @supports not (overflow: clip) {
      body { overflow-x: hidden; }
    }

    h1, h2, h3, h4, .font-display { font-family: 'Syne', sans-serif; }

    /* ================================================================
       TOASTS
    ================================================================ */
    #toast-container       { pointer-events: none; }
    #toast-container .toast { pointer-events: auto; }

    /* ================================================================
       MARQUEE — barre fixe tout en haut
    ================================================================ */
    #top-marquee-bar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: var(--marquee-h);
      z-index: 60;
      overflow: hidden;
    }

    /* ================================================================
       HEADER — décalé sous la barre marquee
    ================================================================ */
    #site-header {
      top: var(--header-top);
      transition:
        background      .35s ease,
        border-color    .35s ease,
        box-shadow      .35s ease,
        backdrop-filter .35s ease;
      will-change: background, box-shadow, backdrop-filter;
    }

    #site-header.scrolled {
      background: rgba(8,8,10,.85);
      border-bottom-color: #1e1e23;
      box-shadow: 0 4px 30px rgba(0,0,0,.5);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
    }
    @supports not ((backdrop-filter: blur(1px)) or (-webkit-backdrop-filter: blur(1px))) {
      #site-header.scrolled { background: rgba(8,8,10,.95); }
    }

    /* Underline des liens nav desktop */
    .nav-link { position: relative; }
    .nav-link::after {
      content: '';
      position: absolute;
      bottom: -2px; left: 0;
      width: 0; height: 1px;
      background: var(--accent);
      opacity: .9;
      transition: width .25s cubic-bezier(.4,0,.2,1);
    }
    .nav-link:hover::after,
    .nav-link.active::after { width: 100%; }

    /* ================================================================
       BURGER
    ================================================================ */
    #burger-btn {
      min-height: 44px;
      min-width:  44px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(255,255,255,.03);
      border: 1px solid rgba(255,255,255,.10);
    }
    #burger-btn:hover {
      background: rgba(255,255,255,.06);
      border-color: rgba(255,255,255,.18);
    }
    #burger-btn.active {
      background: rgba(232,224,208,.10);
      border-color: rgba(232,224,208,.22);
      box-shadow:
        0 0 0 1px rgba(232,224,208,.10) inset,
        0 0 18px rgba(232,224,208,.08);
    }

    #burger-btn .burger-bar                { background: rgba(255,255,255,.75); }
    #burger-btn .burger-bar:nth-child(3)   { background: rgba(232,224,208,.95); }
    #burger-btn.active .burger-bar         { background: rgba(232,224,208,.95); }

    /* ================================================================
       MOBILE MENU
    ================================================================ */
    #mobile-menu {
      transform: translateY(-150%);
      opacity: 0;
      pointer-events: none;
      transition:
        transform .45s cubic-bezier(.16,1,.3,1),
        opacity   .25s ease;
      will-change: transform, opacity;

      background:
        radial-gradient(800px 300px at 50% 0%,  rgba(59,130,246,.18),  transparent 55%),
        radial-gradient(700px 300px at 80% 10%, rgba(168,85,247,.12), transparent 60%),
        linear-gradient(to bottom, #0b0b10, #07070a);

      border-bottom: 1px solid rgba(255,255,255,.10);
      box-shadow: 0 30px 70px -25px rgba(0,0,0,.85);

      max-height: calc(100vh - (var(--header-top) + var(--header-h)));
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
      overscroll-behavior: contain;
      scroll-padding-top: 1rem;
    }

    #mobile-menu.open {
      transform: translateY(0);
      opacity: 1;
      pointer-events: auto;
    }

    /* Touch targets */
    #mobile-menu nav a { min-height: 56px; }
    #mobile-menu nav a:active {
      background: rgba(255,255,255,.10) !important;
      transform: scale(0.98);
      transition: transform 0.1s ease;
    }

    /* Item actif */
    #mobile-menu .nav-item-active {
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.12) !important;
      box-shadow: 0 0 0 1px rgba(232,224,208,.12) inset;
    }

    /* Icônes */
    #mobile-menu .nav-icon {
      background: rgba(255,255,255,.04);
      border: 1px solid rgba(255,255,255,.10);
      box-shadow:
        0 10px 30px -20px rgba(0,0,0,.9),
        0 0 0 1px rgba(0,0,0,.25) inset;
    }
    #mobile-menu a:hover .nav-icon {
      border-color: rgba(232,224,208,.22);
      box-shadow:
        0 12px 34px -22px rgba(0,0,0,.9),
        0 0 0 1px rgba(232,224,208,.10) inset;
    }

    /* ================================================================
       OVERLAY MOBILE
    ================================================================ */
    #mobile-overlay {
      background: rgba(0,0,0,.72);
      backdrop-filter: blur(2px);
      -webkit-backdrop-filter: blur(2px);
    }

    /* ================================================================
       BLUR ARRIÈRE-PLAN QUAND MENU OUVERT
    ================================================================ */
    body.menu-open main,
    body.menu-open footer {
      filter: blur(10px);
      opacity: .55;
      transition: filter .25s ease, opacity .25s ease;
      will-change: filter, opacity;
    }

    /* ================================================================
       FOOTER — ligne décorative
    ================================================================ */
    .footer-line {
      background: linear-gradient(
        90deg,
        transparent,
        rgba(232,224,208,.55),
        rgba(59,130,246,.30),
        rgba(168,85,247,.22),
        transparent
      );
    }

    /* ================================================================
       SCROLLBAR (WebKit)
    ================================================================ */
    ::-webkit-scrollbar       { width: 8px; }
    ::-webkit-scrollbar-track { background: rgba(255,255,255,.03); }
    ::-webkit-scrollbar-thumb {
      background: linear-gradient(180deg, rgba(232,224,208,.28), rgba(255,255,255,.10));
      border: 1px solid rgba(255,255,255,.08);
      border-radius: 10px;
    }
    ::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(180deg, rgba(232,224,208,.45), rgba(255,255,255,.14));
    }

    /* ================================================================
       RESPONSIVE MOBILE — utilitaires custom
    ================================================================ */
    @media (max-width: 767px) {
      .prose-center-mobile h1,
      .prose-center-mobile h2,
      .prose-center-mobile h3,
      .prose-center-mobile h4,
      .prose-center-mobile p,
      .prose-center-mobile .subtitle { text-align: center; }

      .stack-mobile       { flex-direction: column; align-items: center; }
      .gap-mobile-tight   { gap: 1rem; }
      .btn-full-mobile    { width: 100%; justify-content: center; }
      .section-mobile     { padding-left: 1.25rem; padding-right: 1.25rem; }
    }

    /* Marquee réduit sur très petits écrans */
    @media (max-width: 380px) {
      :root { --marquee-h: 44px; }
      #top-marquee-bar .text-sm        { font-size: 11px; }
      #top-marquee-bar .text-\[10px\]  { display: none; }
    }

    /* ================================================================
       MOTION SAFETY (accessibilité)
    ================================================================ */
    @media (prefers-reduced-motion: reduce) {
      #top-marquee-bar .animate-infinite-scroll,
      #site-header,
      #mobile-menu,
      #burger-btn .burger-bar,
      .nav-link::after,
      body.menu-open main,
      body.menu-open footer { transition: none !important; animation: none !important; }
    }
  </style>

  {# Animation marquee #}
  <style>
    @keyframes infinite-scroll {
      from { transform: translateX(0); }
      to   { transform: translateX(-50%); }
    }
    .animate-infinite-scroll {
      display: flex !important;
      width: max-content !important;
      animation: infinite-scroll 30s linear infinite !important;
    }
    {# BUG CORRIGÉ #3 : .hover:pause sans antislash (classe CSS valide) #}
    .hover\:pause:hover {
      animation-play-state: paused !important;
    }
  </style>

  {% block extra_head %}{% endblock %}
</head>

<body class="flex flex-col min-h-screen">

{# ====================================================================== #}
{# MARQUEE BAR — fixe, tout en haut (z-60)                                #}
{# ====================================================================== #}
<div id="top-marquee-bar"
     class="border-b border-white/5 bg-[#08080a]/95 backdrop-blur-sm"
     style="height: var(--marquee-h);">

  <div class="absolute top-0 left-0 w-20 h-full bg-gradient-to-r from-[#08080a] to-transparent z-10 pointer-events-none"></div>
  <div class="absolute top-0 right-0 w-20 h-full bg-gradient-to-l from-[#08080a] to-transparent z-10 pointer-events-none"></div>

  <div class="flex h-full items-center overflow-hidden">
    <div class="flex w-max animate-infinite-scroll hover:pause">

      {# GROUPE 1 #}
      <div class="flex items-center gap-10 px-6">
        <div class="flex items-center gap-2.5">
          <div class="p-1.5 bg-blue-500/10 rounded-lg text-blue-400">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
          </div>
          <div>
            <div class="text-sm font-bold text-white leading-none">10+ Ans</div>
            <div class="text-[10px] text-gray-400 uppercase tracking-wider mt-0.5">Expérience</div>
          </div>
        </div>
        <div class="w-px h-6 bg-white/10 shrink-0"></div>
        <div class="flex items-center gap-2.5">
          <div class="p-1.5 bg-green-500/10 rounded-lg text-green-400">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
          </div>
          <div>
            <div class="text-sm font-bold text-white leading-none">100%</div>
            <div class="text-[10px] text-gray-400 uppercase tracking-wider mt-0.5">Satisfaction</div>
          </div>
        </div>
        <div class="w-px h-6 bg-white/10 shrink-0"></div>
        <div class="flex items-center gap-2.5">
          <div class="p-1.5 bg-yellow-500/10 rounded-lg text-yellow-400">
            <svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor"><path d="M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-8.3h6l-.25-1.84h0z"/></svg>
          </div>
          <div>
            <div class="text-sm font-bold text-white leading-none">Python</div>
            <div class="text-[10px] text-gray-400 uppercase tracking-wider mt-0.5">Expert</div>
          </div>
        </div>
        <div class="w-px h-6 bg-white/10 shrink-0"></div>
        <div class="flex items-center gap-2.5">
          <div class="p-1.5 bg-green-900/20 rounded-lg text-green-500">
            <span class="font-bold text-base leading-none px-0.5">dj</span>
          </div>
          <div>
            <div class="text-sm font-bold text-white leading-none">Django</div>
            <div class="text-[10px] text-gray-400 uppercase tracking-wider mt-0.5">Framework</div>
          </div>
        </div>
        <div class="w-px h-6 bg-white/10 shrink-0"></div>
        <div class="flex items-center gap-2.5">
          <div class="p-1.5 bg-purple-500/10 rounded-lg text-purple-400">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
          </div>
          <div>
            <div class="text-sm font-bold text-white leading-none">REST API</div>
            <div class="text-[10px] text-gray-400 uppercase tracking-wider mt-0.5">Architecture</div>
          </div>
        </div>
        <div class="w-px h-6 bg-white/10 shrink-0"></div>
        <div class="flex items-center gap-2.5">
          <div class="p-1.5 bg-blue-400/10 rounded-lg text-blue-300">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"></path></svg>
          </div>
          <div>
            <div class="text-sm font-bold text-white leading-none">PostgreSQL</div>
            <div class="text-[10px] text-gray-400 uppercase tracking-wider mt-0.5">Database</div>
          </div>
        </div>
        <div class="w-px h-6 bg-white/10 shrink-0"></div>
        <div class="flex items-center gap-2.5">
          <div class="p-1.5 bg-cyan-500/10 rounded-lg text-cyan-400">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg>
          </div>
          <div>
            <div class="text-sm font-bold text-white leading-none">Docker</div>
            <div class="text-[10px] text-gray-400 uppercase tracking-wider mt-0.5">DevOps</div>
          </div>
        </div>
        <div class="w-px h-6 bg-white/10 shrink-0 mx-2"></div>
      </div>{# /GROUPE 1 #}

      {# GROUPE 2 — copie identique pour l'effet de boucle seamless #}
      <div class="flex items-center gap-10 px-6">
        <div class="flex items-center gap-2.5">
          <div class="p-1.5 bg-blue-500/10 rounded-lg text-blue-400">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
          </div>
          <div>
            <div class="text-sm font-bold text-white leading-none">10+ Ans</div>
            <div class="text-[10px] text-gray-400 uppercase tracking-wider mt-0.5">Expérience</div>
          </div>
        </div>
        <div class="w-px h-6 bg-white/10 shrink-0"></div>
        <div class="flex items-center gap-2.5">
          <div class="p-1.5 bg-green-500/10 rounded-lg text-green-400">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
          </div>
          <div>
            <div class="text-sm font-bold text-white leading-none">100%</div>
            <div class="text-[10px] text-gray-400 uppercase tracking-wider mt-0.5">Satisfaction</div>
          </div>
        </div>
        <div class="w-px h-6 bg-white/10 shrink-0"></div>
        <div class="flex items-center gap-2.5">
          <div class="p-1.5 bg-yellow-500/10 rounded-lg text-yellow-400">
            <svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor"><path d="M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-8.3h6l-.25-1.84h0z"/></svg>
          </div>
          <div>
            <div class="text-sm font-bold text-white leading-none">Python</div>
            <div class="text-[10px] text-gray-400 uppercase tracking-wider mt-0.5">Expert</div>
          </div>
        </div>
        <div class="w-px h-6 bg-white/10 shrink-0"></div>
        <div class="flex items-center gap-2.5">
          <div class="p-1.5 bg-green-900/20 rounded-lg text-green-500">
            <span class="font-bold text-base leading-none px-0.5">dj</span>
          </div>
          <div>
            <div class="text-sm font-bold text-white leading-none">Django</div>
            <div class="text-[10px] text-gray-400 uppercase tracking-wider mt-0.5">Framework</div>
          </div>
        </div>
        <div class="w-px h-6 bg-white/10 shrink-0"></div>
        <div class="flex items-center gap-2.5">
          <div class="p-1.5 bg-purple-500/10 rounded-lg text-purple-400">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
          </div>
          <div>
            <div class="text-sm font-bold text-white leading-none">REST API</div>
            <div class="text-[10px] text-gray-400 uppercase tracking-wider mt-0.5">Architecture</div>
          </div>
        </div>
        <div class="w-px h-6 bg-white/10 shrink-0"></div>
        <div class="flex items-center gap-2.5">
          <div class="p-1.5 bg-blue-400/10 rounded-lg text-blue-300">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"></path></svg>
          </div>
          <div>
            <div class="text-sm font-bold text-white leading-none">PostgreSQL</div>
            <div class="text-[10px] text-gray-400 uppercase tracking-wider mt-0.5">Database</div>
          </div>
        </div>
        <div class="w-px h-6 bg-white/10 shrink-0"></div>
        <div class="flex items-center gap-2.5">
          <div class="p-1.5 bg-cyan-500/10 rounded-lg text-cyan-400">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg>
          </div>
          <div>
            <div class="text-sm font-bold text-white leading-none">Docker</div>
            <div class="text-[10px] text-gray-400 uppercase tracking-wider mt-0.5">DevOps</div>
          </div>
        </div>
        <div class="w-px h-6 bg-white/10 shrink-0 mx-2"></div>
      </div>{# /GROUPE 2 #}

    </div>
  </div>

</div>{# /#top-marquee-bar #}


{# ====================================================================== #}
{# HEADER — élément FRÈRE de #top-marquee-bar                              #}
{# ====================================================================== #}
<header id="site-header"
        class="fixed left-0 right-0 z-50 border-b border-transparent backdrop-blur-md"
        style="top: var(--header-top); height: var(--header-h);">
  <div class="max-w-7xl mx-auto px-6 h-full flex items-center justify-between">

    {# Logo #}
    <a href="{% url 'home' %}"
       class="flex items-center gap-3 group relative z-50"
       aria-label="Horus Global Service — Accueil">

      <span
      class="w-12 h-12 md:w-14 md:h-14 rounded-xl flex items-center justify-center
             group-hover:scale-105 transition-transform duration-200
             shadow-lg shadow-accent/20 overflow-hidden"
      aria-hidden="true">

      <img
        src="{% static 'img/horus-logo-mark-160.webp' %}"
        srcset="
          {% static 'img/horus-logo-mark-160.webp' %} 1x,
          {% static 'img/horus-logo-mark-256.webp' %} 2x
        "
        width="56"
        height="56"
        alt="Horus Global Service"
        class="w-full h-full object-contain"
        loading="eager"
        decoding="async"
      />
    </span>


      <span class="font-display font-bold text-xl tracking-wide text-white hidden sm:block">
        Horus<span class="text-muted font-normal text-base"> Global Service</span>
      </span>
    </a>
    {% with url_name=request.resolver_match.url_name %}

    {# Desktop nav #}
    <nav class="hidden md:flex items-center gap-1 bg-white/5 p-1.5 rounded-full border border-white/5 backdrop-blur-sm"
         aria-label="Navigation principale">

      <a href="{% url 'home' %}"
         class="group flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300
                {% if url_name == 'home' %}bg-white/10 text-white shadow-inner{% else %}text-muted hover:text-white hover:bg-white/5{% endif %}">
        <svg class="w-5 h-5 {% if url_name == 'home' %}text-accent{% else %}text-gray-500 group-hover:text-accent{% endif %} transition-colors"
             fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
        </svg>
        <span>Home</span>
      </a>

      <a href="{% url 'portfolio' %}"
         class="group flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300
                {% if url_name == 'portfolio' %}bg-white/10 text-white shadow-inner{% else %}text-muted hover:text-white hover:bg-white/5{% endif %}">
        <svg class="w-5 h-5 {% if url_name == 'portfolio' %}text-accent{% else %}text-gray-500 group-hover:text-accent{% endif %} transition-colors"
             fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
        </svg>
        <span>Projets</span>
      </a>

      <a href="{% url 'services' %}"
         class="group flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300
                {% if url_name == 'services' %}bg-white/10 text-white shadow-inner{% else %}text-muted hover:text-white hover:bg-white/5{% endif %}">
        <svg class="w-5 h-5 {% if url_name == 'services' %}text-accent{% else %}text-gray-500 group-hover:text-accent{% endif %} transition-colors"
             fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M13 10V3L4 14h7v7l9-11h-7z"/>
        </svg>
        <span>Services</span>
      </a>

      <a href="{% url 'skills' %}"
         class="group flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300
                {% if url_name == 'skills' %}bg-white/10 text-white shadow-inner{% else %}text-muted hover:text-white hover:bg-white/5{% endif %}">
        <svg class="w-5 h-5 {% if url_name == 'skills' %}text-accent{% else %}text-gray-500 group-hover:text-accent{% endif %} transition-colors"
             fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"/>
        </svg>
        <span>Stack</span>
      </a>

      <a href="{% url 'blog' %}"
         class="group flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300
                {% if url_name == 'blog' %}bg-white/10 text-white shadow-inner{% else %}text-muted hover:text-white hover:bg-white/5{% endif %}">
        <svg class="w-5 h-5 {% if url_name == 'blog' %}text-accent{% else %}text-gray-500 group-hover:text-accent{% endif %} transition-colors"
             fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"/>
        </svg>
        <span>Article</span>
      </a>
    </nav>

    {# Desktop CTA #}
    <div class="hidden md:flex items-center gap-5">
      <a href="{% url 'contact' %}"
         class="flex items-center gap-2 px-5 py-2.5 text-sm font-display font-bold text-dark bg-accent rounded-xl
                hover:bg-white hover:text-accent focus:bg-white focus:text-accent
                focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2
                hover:scale-105 hover:shadow-lg hover:shadow-accent/20
                transition-all duration-200 group">
        <span>Contactez-Nous</span>
        <svg class="w-4 h-4 transition-transform group-hover:rotate-12 group-focus:rotate-12" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
        </svg>
      </a>
    </div>

    {# Mobile burger #}
    <button id="burger-btn"
            class="md:hidden group flex flex-col gap-1.5 p-3 rounded-xl
                   bg-white/0 hover:bg-white/5
                   border border-white/10 hover:border-white/20
                   transition-all duration-200
                   relative z-50"
            aria-label="Ouvrir le menu" aria-expanded="false" aria-controls="mobile-menu">
      <span class="burger-bar w-6 h-0.5 rounded-full bg-white/80 group-hover:bg-white"></span>
      <span class="burger-bar w-6 h-0.5 rounded-full bg-white/60 group-hover:bg-white"></span>
      <span class="burger-bar w-4 ml-auto h-0.5 rounded-full bg-accent"></span>
    </button>

  </div>{# /.max-w-7xl #}

  {# ================================================================ #}
  {# MOBILE MENU                                                       #}
  {# ================================================================ #}
  <div id="mobile-menu"
       class="md:hidden absolute left-0 right-0 z-50 pb-8
              border-b border-white/10
              shadow-[0_40px_80px_rgba(0,0,0,0.95)]"
       style="top: calc(var(--header-h) - 1px);"
       aria-hidden="true"
       inert>

    {# Liseré accent en haut du menu #}
    <div class="h-px w-full bg-gradient-to-r from-transparent via-accent/40 to-transparent mb-2"></div>

    <nav class="flex flex-col px-4 pt-2 gap-1" aria-label="Navigation mobile">

      {# ---- Home ---- #}
      <a href="{% url 'home' %}"
         class="group flex items-center gap-4 px-3 py-3 rounded-2xl border transition-all
                {% if url_name == 'home' %}nav-item-active{% else %}border-transparent hover:bg-white/[0.06] hover:border-white/10{% endif %}">
        <div class="nav-icon w-11 h-11 rounded-xl flex items-center justify-center shrink-0 border transition-transform group-hover:scale-105">
          <svg class="w-5 h-5 {% if url_name == 'home' %}text-accent{% else %}text-gray-300{% endif %}"
               fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8"
                  d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
          </svg>
        </div>
        <div class="flex-1 min-w-0">
          <span class="block text-[15px] font-bold {% if url_name == 'home' %}text-white{% else %}text-gray-100{% endif %} leading-snug">Home</span>
          <span class="block text-xs text-gray-400 mt-0.5">Vue d'ensemble</span>
        </div>
        {% if url_name == 'home' %}
          <div class="w-1.5 h-1.5 rounded-full bg-accent shrink-0"></div>
        {% endif %}
      </a>

      {# ---- Projets ---- #}
      <a href="{% url 'portfolio' %}"
         class="group flex items-center gap-4 px-3 py-3 rounded-2xl border transition-all
                {% if url_name == 'portfolio' %}nav-item-active{% else %}border-transparent hover:bg-white/[0.06] hover:border-white/10{% endif %}">
        <div class="nav-icon w-11 h-11 rounded-xl flex items-center justify-center shrink-0 border transition-transform group-hover:scale-105">
          <svg class="w-5 h-5 {% if url_name == 'portfolio' %}text-accent{% else %}text-gray-300{% endif %}"
               fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8"
                  d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
          </svg>
        </div>
        <div class="flex-1 min-w-0">
          <span class="block text-[15px] font-bold {% if url_name == 'portfolio' %}text-white{% else %}text-gray-100{% endif %} leading-snug">Projets</span>
          <span class="block text-xs text-gray-400 mt-0.5">Case studies & portfolio</span>
        </div>
        {% if url_name == 'portfolio' %}
          <div class="w-1.5 h-1.5 rounded-full bg-accent shrink-0"></div>
        {% endif %}
      </a>

      {# ---- Services ---- #}
      <a href="{% url 'services' %}"
         class="group flex items-center gap-4 px-3 py-3 rounded-2xl border transition-all
                {% if url_name == 'services' %}nav-item-active{% else %}border-transparent hover:bg-white/[0.06] hover:border-white/10{% endif %}">
        <div class="nav-icon w-11 h-11 rounded-xl flex items-center justify-center shrink-0 border transition-transform group-hover:scale-105">
          <svg class="w-5 h-5 {% if url_name == 'services' %}text-accent{% else %}text-gray-300{% endif %}"
               fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8"
                  d="M13 10V3L4 14h7v7l9-11h-7z"/>
          </svg>
        </div>
        <div class="flex-1 min-w-0">
          <span class="block text-[15px] font-bold {% if url_name == 'services' %}text-white{% else %}text-gray-100{% endif %} leading-snug">Services</span>
          <span class="block text-xs text-gray-400 mt-0.5">Ce que je livre</span>
        </div>
        {% if url_name == 'services' %}
          <div class="w-1.5 h-1.5 rounded-full bg-accent shrink-0"></div>
        {% endif %}
      </a>

      {# ---- Stack ---- #}
      <a href="{% url 'skills' %}"
         class="group flex items-center gap-4 px-3 py-3 rounded-2xl border transition-all
                {% if url_name == 'skills' %}nav-item-active{% else %}border-transparent hover:bg-white/[0.06] hover:border-white/10{% endif %}">
        <div class="nav-icon w-11 h-11 rounded-xl flex items-center justify-center shrink-0 border transition-transform group-hover:scale-105">
          <svg class="w-5 h-5 {% if url_name == 'skills' %}text-accent{% else %}text-gray-300{% endif %}"
               fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8"
                  d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"/>
          </svg>
        </div>
        <div class="flex-1 min-w-0">
          <span class="block text-[15px] font-bold {% if url_name == 'skills' %}text-white{% else %}text-gray-100{% endif %} leading-snug">Stack</span>
          <span class="block text-xs text-gray-400 mt-0.5">Outils & technologies</span>
        </div>
        {% if url_name == 'skills' %}
          <div class="w-1.5 h-1.5 rounded-full bg-accent shrink-0"></div>
        {% endif %}
      </a>

      {# ---- Blog ---- #}
      <a href="{% url 'blog' %}"
         class="group flex items-center gap-4 px-3 py-3 rounded-2xl border transition-all
                {% if url_name == 'blog' %}nav-item-active{% else %}border-transparent hover:bg-white/[0.06] hover:border-white/10{% endif %}">
        <div class="nav-icon w-11 h-11 rounded-xl flex items-center justify-center shrink-0 border transition-transform group-hover:scale-105">
          <svg class="w-5 h-5 {% if url_name == 'blog' %}text-accent{% else %}text-gray-300{% endif %}"
               fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8"
                  d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"/>
          </svg>
        </div>
        <div class="flex-1 min-w-0">
          <span class="block text-[15px] font-bold {% if url_name == 'blog' %}text-white{% else %}text-gray-100{% endif %} leading-snug">Blog</span>
          <span class="block text-xs text-gray-400 mt-0.5">Articles & tutoriels</span>
        </div>
        {% if url_name == 'blog' %}
          <div class="w-1.5 h-1.5 rounded-full bg-accent shrink-0"></div>
        {% endif %}
      </a>

      {# ---- CTA Contact ---- #}
      <div class="mt-3 pt-4 border-t border-white/10 px-1">
        <a href="{% url 'contact' %}"
           class="flex items-center justify-center gap-3 w-full py-3.5 px-6 text-[15px] font-display font-bold
                  text-dark bg-accent rounded-xl text-center shadow-lg
                  hover:bg-white active:scale-95 transition-all">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
          </svg>
          <span>Me contacter</span>
        </a>
      </div>

    </nav>

  </div>{# /#mobile-menu #}

  {% endwith %}{# /url_name — BUG CORRIGÉ #6 : un seul {% with %} pour tout le header #}

</header>

{# Overlay EN DEHORS du <header>, au niveau du body #}
<div id="mobile-overlay"
     class="md:hidden fixed inset-0 z-40 bg-black/70 transition-opacity duration-300 opacity-0 pointer-events-none"
     aria-hidden="true"></div>


{# ====================================================================== #}
{# MAIN                                                                    #}
{# ====================================================================== #}
<main class="flex-1 w-full relative isolate" style="padding-top: calc(var(--header-top) + var(--header-h));">

  {# Background décoratif #}
  <div aria-hidden="true" class="pointer-events-none">
    <div class="fixed inset-0 -z-20 bg-[#08080a]
                bg-[linear-gradient(to_right,#ffffff0a_1px,transparent_1px),linear-gradient(to_bottom,#ffffff0a_1px,transparent_1px)]
                bg-[size:24px_24px]"></div>
    <div class="fixed inset-0 -z-10 mix-blend-screen">
      <div class="absolute -top-24 -left-24 h-[820px] w-[820px]
                  rounded-full bg-blue-500/10 blur-[140px]
                  transform-gpu will-change-transform"></div>
      <div class="absolute -bottom-24 -right-24 h-[640px] w-[640px]
                  rounded-full bg-purple-500/10 blur-[120px]
                  transform-gpu will-change-transform"></div>
    </div>
  </div>

  {# Toasts #}
  {% if messages %}
    <div id="toast-container"
         class="fixed z-[100] space-y-4 max-w-sm w-full sm:w-96 px-4 sm:px-0"
         style="top: calc(var(--header-top) + var(--header-h) + 1rem); right: 1rem;"
         role="alert" aria-live="polite">
      {% for message in messages %}
        <div class="toast group flex items-start gap-4 p-4 rounded-xl shadow-2xl animate-slide-in backdrop-blur-md border border-white/10
                    {% if message.tags == 'success' %} bg-green-950/30 border-l-4 border-l-green-500
                    {% elif message.tags == 'error' %}  bg-red-950/30 border-l-4 border-l-red-500
                    {% elif message.tags == 'warning' %}bg-yellow-950/30 border-l-4 border-l-yellow-500
                    {% else %}                          bg-[#16161a]/80 border-l-4 border-l-blue-500 {% endif %}">
          <div class="shrink-0 mt-0.5">
            {% if message.tags == 'success' %}
              <svg class="w-5 h-5 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
            {% elif message.tags == 'error' %}
              <svg class="w-5 h-5 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
            {% elif message.tags == 'warning' %}
              <svg class="w-5 h-5 text-yellow-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
            {% else %}
              <svg class="w-5 h-5 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
            {% endif %}
          </div>
          <div class="flex-1">
            <p class="text-sm font-medium text-white leading-snug">{{ message }}</p>
          </div>
          <button type="button" data-toast-close
                  class="text-gray-500 hover:text-white transition-colors p-1 rounded-md hover:bg-white/10 -m-1"
                  aria-label="Fermer la notification">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
          </button>
        </div>
      {% endfor %}
    </div>
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const container = document.getElementById('toast-container');
        if (!container) return;

        const dismiss = (toast) => {
          if (!toast) return;
          toast.style.transition = 'all 0.5s ease-in-out';
          toast.style.opacity = '0';
          toast.style.transform = 'translateX(100%)';
          setTimeout(() => {
            toast.remove();
            if (!container.querySelector('.toast')) container.remove();
          }, 500);
        };

        container.querySelectorAll('.toast').forEach((t, i) => {
          setTimeout(() => dismiss(t), 5000 + i * 1000);
        });

        container.addEventListener('click', (e) => {
          const btn = e.target.closest('[data-toast-close]');
          if (btn) dismiss(btn.closest('.toast'));
        });
      });
    </script>
  {% endif %}

  {% block content %}{% endblock %}

</main>


{# ====================================================================== #}
{# FOOTER                                                                  #}
{# ====================================================================== #}
<footer class="relative mt-32 bg-[#050507] border-t border-white/5 overflow-hidden" aria-label="Pied de page">

  <div class="absolute top-0 left-1/2 -translate-x-1/2 w-full max-w-3xl h-[1px] bg-gradient-to-r from-transparent via-accent/50 to-transparent"></div>
  <div class="absolute -top-24 left-1/2 -translate-x-1/2 w-[500px] h-[200px] bg-accent/5 blur-[80px] rounded-full pointer-events-none"></div>

  <div class="max-w-7xl mx-auto px-6 pt-16 md:pt-24 pb-8 relative z-10">

    <div class="grid grid-cols-1 md:grid-cols-12 gap-12 lg:gap-8 mb-16">

      <div class="md:col-span-5 space-y-6 text-center md:text-left">
        <a href="{% url 'home' %}"
           class="inline-flex items-center gap-3 group justify-center md:justify-start no-underline hover:no-underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent/40 rounded-xl">
          <div class="w-12 h-12 shrink-0 rounded-xl bg-white/5 border border-white/10 text-white flex items-center justify-center font-display font-bold text-xl leading-none group-hover:bg-accent group-hover:text-dark transition-all duration-300 shadow-lg shadow-black/50">
            H
          </div>
          <span class="font-display font-bold text-white text-2xl tracking-tight group-hover:text-accent transition-colors">
            Horus Global
          </span>
        </a>

        <p class="text-muted text-sm leading-7 max-w-sm mx-auto md:mx-0">
          Architecte digital spécialisé dans les écosystèmes Django complexes.
          Je transforme vos workflows métier exigeants en applications web performantes.
        </p>

        <div class="flex items-center justify-center md:justify-start gap-3 pt-2">
          <a href="{{ GITHUB_URL }}" target="_blank" rel="noopener noreferrer"
             class="w-10 h-10 rounded-full bg-white/5 border border-white/5 flex items-center justify-center text-gray-400 hover:text-white hover:bg-white/10 hover:border-white/20 transition-all"
             aria-label="GitHub">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M12 0C5.374 0 0 5.373 0 12c0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23A11.509 11.509 0 0112 5.803c1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12z"/>
            </svg>
          </a>
          <a href="{{ LINKEDIN_URL }}" target="_blank" rel="noopener noreferrer"
             class="w-10 h-10 rounded-full bg-white/5 border border-white/5 flex items-center justify-center text-gray-400 hover:text-blue-400 hover:bg-blue-600/20 hover:border-blue-500/50 transition-all"
             aria-label="LinkedIn">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
            </svg>
          </a>
          <a href="{{ FACEBOOK_URL }}" target="_blank" rel="noopener noreferrer"
             class="w-10 h-10 rounded-full bg-white/5 border border-white/5 flex items-center justify-center text-gray-400 hover:text-blue-500 hover:bg-blue-600/20 hover:border-blue-500/50 transition-all"
             aria-label="Facebook">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.791-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
            </svg>
          </a>
          <a href="{{ X_URL }}" target="_blank" rel="noopener noreferrer"
             class="w-10 h-10 rounded-full bg-white/5 border border-white/5 flex items-center justify-center text-gray-400 hover:text-white hover:bg-black hover:border-white/20 transition-all"
             aria-label="X (Twitter)">
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
            </svg>
          </a>
        </div>
      </div>

      <div class="md:col-span-3 text-center md:text-left">
        <h3 class="font-display text-xs font-bold text-white uppercase tracking-widest mb-6">Explorer</h3>
        <ul class="space-y-3">
          <li><a href="{% url 'portfolio' %}" class="group flex items-center justify-center md:justify-start gap-2 text-sm text-muted hover:text-white transition-colors py-1 no-underline"><span class="w-1.5 h-1.5 rounded-full bg-accent/50 opacity-0 group-hover:opacity-100 transition-opacity"></span>Case studies</a></li>
          <li><a href="{% url 'services' %}" class="group flex items-center justify-center md:justify-start gap-2 text-sm text-muted hover:text-white transition-colors py-1 no-underline"><span class="w-1.5 h-1.5 rounded-full bg-accent/50 opacity-0 group-hover:opacity-100 transition-opacity"></span>Services</a></li>
          <li><a href="{% url 'skills' %}" class="group flex items-center justify-center md:justify-start gap-2 text-sm text-muted hover:text-white transition-colors py-1 no-underline"><span class="w-1.5 h-1.5 rounded-full bg-accent/50 opacity-0 group-hover:opacity-100 transition-opacity"></span>Tech stack</a></li>
          <li><a href="{% url 'blog' %}" class="group flex items-center justify-center md:justify-start gap-2 text-sm text-muted hover:text-white transition-colors py-1 no-underline"><span class="w-1.5 h-1.5 rounded-full bg-accent/50 opacity-0 group-hover:opacity-100 transition-opacity"></span>Articles & tutoriels</a></li>
          <li><a href="{% url 'contact' %}" class="group flex items-center justify-center md:justify-start gap-2 text-sm text-muted hover:text-white transition-colors py-1 no-underline"><span class="w-1.5 h-1.5 rounded-full bg-accent/50 opacity-0 group-hover:opacity-100 transition-opacity"></span>Contact</a></li>
        </ul>
      </div>

      <div class="md:col-span-4 text-center md:text-left">
        <h3 class="font-display text-xs font-bold text-white uppercase tracking-widest mb-6">Contact</h3>
        <div class="space-y-4">
          <a href="mailto:{{ PUBLIC_EMAIL }}"
             class="flex flex-col md:flex-row items-center md:items-start gap-4 p-4 rounded-2xl bg-white/5 border border-white/5 hover:border-accent/30 hover:bg-white/10 transition-all group no-underline">
            <div class="w-10 h-10 rounded-full bg-accent/10 text-accent flex items-center justify-center shrink-0 group-hover:scale-110 transition-transform">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
              </svg>
            </div>
            <div class="text-center md:text-left">
              <span class="block text-xs text-gray-400 mb-0.5">Email</span>
              <span class="block text-sm font-bold text-white group-hover:text-accent transition-colors">{{ PUBLIC_EMAIL }}</span>
            </div>
          </a>
          <a href="{{ WHATSAPP_URL }}" target="_blank" rel="noopener noreferrer"
             class="flex flex-col md:flex-row items-center md:items-start gap-4 p-4 rounded-2xl bg-white/5 border border-white/5 hover:border-green-500/30 hover:bg-green-500/5 transition-all group no-underline">
            <div class="w-10 h-10 rounded-full bg-green-500/10 text-green-500 flex items-center justify-center shrink-0 group-hover:scale-110 transition-transform">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
              </svg>
            </div>
            <div class="text-center md:text-left">
              <span class="block text-xs text-gray-400 mb-0.5">WhatsApp</span>
              <span class="block text-sm font-bold text-white group-hover:text-green-400 transition-colors">+221 77 340 96 58</span>
            </div>
          </a>
        </div>
      </div>

    </div>

    <div class="border-t border-white/5 pt-8 flex flex-col md:flex-row items-center justify-between gap-4 text-center md:text-left">
      <p class="text-xs text-gray-400">
        &copy; {% now "Y" %} Horus Global Service. <span class="hidden sm:inline">Tous droits réservés.</span>
      </p>
      <div class="text-xs text-gray-400 flex items-center gap-2">
        <span class="w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"></span>
        Systèmes opérationnels
      </div>
    </div>

  </div>
</footer>


<script>
/**
 * Script de Navigation Premium - 2026
 * Gère le header dynamique, le menu mobile et l'accessibilité.
 */
document.addEventListener('DOMContentLoaded', () => {

  // --- 1. CONFIGURATION & ÉLÉMENTS ---
  const header  = document.getElementById('site-header');
  const btn     = document.getElementById('burger-btn');
  const menu    = document.getElementById('mobile-menu');
  const overlay = document.getElementById('mobile-overlay');
  const body    = document.body;

  if (!header || !btn || !menu || !overlay) {
    console.warn("Éléments de navigation manquants dans le DOM.");
    return;
  }

  let isMenuOpen = false;
  let ticking    = false;

  // --- 2. HEADER SCROLL EFFECT ---
  const updateHeader = () => {
    header.classList.toggle('scrolled', window.scrollY > 20);
    ticking = false;
  };

  window.addEventListener('scroll', () => {
    if (!ticking) {
      window.requestAnimationFrame(updateHeader);
      ticking = true;
    }
  }, { passive: true });


  // --- 3. GESTION DU MENU MOBILE ---
  const openMenu = () => {
    isMenuOpen = true;

    btn.setAttribute('aria-expanded', 'true');
    menu.setAttribute('aria-hidden', 'false');
    menu.removeAttribute('inert');           // BUG CORRIGÉ #4 : inert retiré à l'ouverture
    menu.classList.add('open');
    btn.classList.add('active');
    body.classList.add('menu-open');

    body.style.overflow    = 'hidden';
    body.style.touchAction = 'none';

    overlay.classList.remove('opacity-0', 'pointer-events-none');
    overlay.classList.add('opacity-100');
    overlay.style.pointerEvents = 'auto';

    setTimeout(() => menu.querySelector('a')?.focus(), 100);
  };

  const closeMenu = () => {
    isMenuOpen = false;

    btn.setAttribute('aria-expanded', 'false');
    menu.setAttribute('aria-hidden', 'true');
    menu.setAttribute('inert', '');          // BUG CORRIGÉ #4 : inert remis à la fermeture
    menu.classList.remove('open');
    btn.classList.remove('active');
    body.classList.remove('menu-open');

    body.style.overflow    = '';
    body.style.touchAction = '';

    overlay.classList.add('opacity-0', 'pointer-events-none');
    overlay.classList.remove('opacity-100');
    overlay.style.pointerEvents = 'none';
  };

  // Toggle au clic sur le bouton burger
  btn.addEventListener('click', (e) => {
    e.stopPropagation();
    isMenuOpen ? closeMenu() : openMenu();
  });

  // Fermeture au clic sur l'overlay
  overlay.addEventListener('click', closeMenu);

  // --- 4. SÉCURITÉ ET UX ---

  // Fermeture automatique au passage en desktop
  window.matchMedia('(min-width: 768px)').addEventListener('change', (e) => {
    if (e.matches && isMenuOpen) closeMenu();
  });

  // Fermeture au clic sur un lien du menu mobile
  menu.querySelectorAll('a').forEach(link => {
    link.addEventListener('click', () => setTimeout(closeMenu, 150));
  });

  // Fermeture via la touche Échap
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && isMenuOpen) {
      closeMenu();
      btn.focus();
    }
  });

  // Empêcher le scroll sous l'overlay
  const preventScroll = (e) => {
    if (isMenuOpen && e.target === overlay) {
      e.preventDefault();
      closeMenu();
    }
  };
  overlay.addEventListener('wheel',     preventScroll, { passive: false });
  overlay.addEventListener('touchmove', preventScroll, { passive: false });

  // Initialisation
  updateHeader();
});
</script>

</body>
</html>